<div class="container">
  <sprk-highlight-board
    heading="Hello, Welcome To Spark Design System"
    ctaText="Designers"
    ctaHref="#nogo"
    ctaText2="Developers"
    ctaHref2="#nogo"
    imgSrc="https://spark-assets.netlify.app/desktop.jpg"
    imgAlt="placeholder"
    idString="highlightboard-1"
  >
  </sprk-highlight-board>

  <section id="default" class="qc-new-contact--default">
    <div class="qc-new-contact--default-item">
      <h1>New Contact</h1>

      <!-- NOTIFICATIONS :: START -->
      <ng-container *ngIf="successMessage$ | async as message">
        <sprk-alert alertType="success" idString="alert-success-1" analyticsString="object.action.event">
          {{ message }}
        </sprk-alert>
      </ng-container>
      <ng-container *ngIf="failMessage$ | async as message">
        <sprk-alert alertType="fail" idString="alert-fail-1" analyticsString="object.action.event">
          {{ message }}
        </sprk-alert>
      </ng-container>
      <!-- NOTIFICATIONS :: END -->

      <ng-container *ngIf="showSpinner$ | async as show; else formTemplate">
        <sprk-modal [isVisible]="show" title="Wait Modal" modalType="wait" idString="modal-wait-1">
          <p class="sprk-c-Modal__content">
            Please wait while we save your contact in the cloud.
          </p>
        </sprk-modal>
      </ng-container>
      <ng-template #formTemplate>
        <!-- REACTIVE FORM -->
        <form [formGroup]="addContactForm" (ngSubmit)="onSubmit()">
          <div class="qc-new-contact--default-item">
            <!-- FIRST NAME -->
            <sprk-input-container>
              <label sprkLabel>First Name</label>
              <input formControlName="firstName" maxlength="45" name="firstName" type="text" sprkInput />
              <ng-container *ngIf="!addContactForm.valid && firstName.touched && firstName.hasError('required')">
                <span sprkFieldError>
                  <sprk-icon iconType="exclamation-filled-small" additionalClasses="sprk-b-ErrorIcon"></sprk-icon>
                  <div class="sprk-b-ErrorText">The first name is required.</div>
                </span>
              </ng-container>
            </sprk-input-container>

            <!-- LAST NAME -->
            <sprk-input-container>
              <label sprkLabel>Last Name</label>
              <input formControlName="lastName" maxlength="45" name="lastName" type="text" sprkInput />
              <ng-container *ngIf="!addContactForm.valid && lastName.touched && lastName.hasError('required')">
                <span sprkFieldError>
                  <sprk-icon iconType="exclamation-filled-small" additionalClasses="sprk-b-ErrorIcon"></sprk-icon>
                  <div class="sprk-b-ErrorText">The last name is required.</div>
                </span>
              </ng-container>
            </sprk-input-container>

            <!-- COMPANY -->
            <sprk-input-container>
              <label sprkLabel>Company</label>
              <input formControlName="company" maxlength="45" name="company" type="text" sprkInput />
              <ng-container *ngIf="!addContactForm.valid && company.touched && company.hasError('required')">
                <span sprkFieldError>
                  <sprk-icon iconType="exclamation-filled-small" additionalClasses="sprk-b-ErrorIcon"></sprk-icon>
                  <div class="sprk-b-ErrorText">The company name is required.</div>
                </span>
              </ng-container>
            </sprk-input-container>

            <!-- EMAIL ADDRESS -->
            <sprk-input-container>
              <label sprkLabel>Email Address</label>
              <input formControlName="emailAddress" maxlength="45" name="emailAddress" type="text" sprkInput />
              <ng-container *ngIf="!addContactForm.valid && emailAddress.touched && emailAddress.hasError('required')">
                <span sprkFieldError>
                  <sprk-icon iconType="exclamation-filled-small" additionalClasses="sprk-b-ErrorIcon"></sprk-icon>
                  <div class="sprk-b-ErrorText">The email address is required.</div>
                </span>
              </ng-container>
            </sprk-input-container>

            <!-- PHONE -->
            <sprk-input-container>
              <label sprkLabel>Phone</label>
              <input formControlName="phone" placeholder="(000) 000-0000" maxlength="45" name="phone" type="text" sprkInput />
              <ng-container *ngIf="!addContactForm.valid && phone.touched && phone.hasError('required')">
                <span sprkFieldError>
                  <sprk-icon iconType="exclamation-filled-small" additionalClasses="sprk-b-ErrorIcon"></sprk-icon>
                  <div class="sprk-b-ErrorText">The email address is required.</div>
                </span>
              </ng-container>
              <ng-container *ngIf="!addContactForm.valid && phone.touched && phone.hasError('maxlength')">
                <span sprkFieldError>
                  <sprk-icon iconType="exclamation-filled-small" additionalClasses="sprk-b-ErrorIcon"></sprk-icon>
                  <div class="sprk-b-ErrorText">The phone max length is 25 characters.</div>
                </span>
              </ng-container>
            </sprk-input-container>
          </div>

          <sprk-divider idString="divider-1"></sprk-divider>

          <div class="qc-new-contact--default-item">
            <!-- ADDRESS INFORMATION -->
            <h3>Address Information</h3>

            <!-- ADDRESS 1 -->
            <sprk-input-container>
              <label sprkLabel>Address 1</label>
              <!-- class="sprk-b-TextInput--error" aria-invalid="true" -->
              <input width="300" formControlName="address1" maxlength="60" name="address1" type="text" sprkInput />
              <ng-container *ngIf="!addContactForm.valid && address1.touched && address1.hasError('required')">
                <span sprkFieldError>
                  <sprk-icon iconType="exclamation-filled-small" additionalClasses="sprk-b-ErrorIcon"></sprk-icon>
                  <div class="sprk-b-ErrorText">The address is required.</div>
                </span>
              </ng-container>
            </sprk-input-container>

            <!-- ADDRESS 2 -->
            <sprk-input-container>
              <label sprkLabel>Address 2</label>
              <input formControlName="address2" maxlength="60" name="address2" type="text" sprkInput />
              <ng-container *ngIf="!addContactForm.valid && address2.touched && address2.hasError('maxlength')">
                <span sprkFieldError>
                  <sprk-icon iconType="exclamation-filled-small" additionalClasses="sprk-b-ErrorIcon"></sprk-icon>
                  <div class="sprk-b-ErrorText">The address 2 maximum length is 60 characters.</div>
                </span>
              </ng-container>
            </sprk-input-container>

            <!-- CITY -->
            <sprk-input-container>
              <label sprkLabel>City</label>
              <input formControlName="city" maxlength="60" name="city" type="text" sprkInput />
              <ng-container *ngIf="!addContactForm.valid && city.touched && city.hasError('required')">
                <span sprkFieldError>
                  <sprk-icon iconType="exclamation-filled-small" additionalClasses="sprk-b-ErrorIcon"></sprk-icon>
                  <div class="sprk-b-ErrorText">The city is required.</div>
                </span>
              </ng-container>
              <ng-container *ngIf="!addContactForm.valid && city.touched && city.hasError('maxlength')">
                <span sprkFieldError>
                  <sprk-icon iconType="exclamation-filled-small" additionalClasses="sprk-b-ErrorIcon"></sprk-icon>
                  <div class="sprk-b-ErrorText">The city max length is 45 characters.</div>
                </span>
              </ng-container>
            </sprk-input-container>

            <!-- STATE -->
            <sprk-input-container>
              <label sprkLabel>State</label>
              <input formControlName="state" maxlength="60" name="state" type="text" sprkInput />
              <ng-container *ngIf="!addContactForm.valid && state.touched && state.hasError('required')">
                <span sprkFieldError>
                  <sprk-icon iconType="exclamation-filled-small" additionalClasses="sprk-b-ErrorIcon"></sprk-icon>
                  <div class="sprk-b-ErrorText">The state is required.</div>
                </span>
              </ng-container>
              <ng-container *ngIf="!addContactForm.valid && state.touched && state.hasError('maxlength')">
                <span sprkFieldError>
                  <sprk-icon iconType="exclamation-filled-small" additionalClasses="sprk-b-ErrorIcon"></sprk-icon>
                  <div class="sprk-b-ErrorText">The state max length is 45 characters.</div>
                </span>
              </ng-container>
            </sprk-input-container>

            <!-- POSTAL CODE/ZIP CODE -->
            <sprk-input-container>
              <label sprkLabel>Postal Code/Zip Code</label>
              <input formControlName="postalCode" maxlength="60" name="postalCode" type="text" sprkInput />
              <ng-container *ngIf="!addContactForm.valid && postalCode.touched && postalCode.hasError('required')">
                <span sprkFieldError>
                  <sprk-icon iconType="exclamation-filled-small" additionalClasses="sprk-b-ErrorIcon"></sprk-icon>
                  <div class="sprk-b-ErrorText">The postal code is required.</div>
                </span>
              </ng-container>
              <ng-container *ngIf="!addContactForm.valid && postalCode.touched && postalCode.hasError('maxlength')">
                <span sprkFieldError>
                  <sprk-icon iconType="exclamation-filled-small" additionalClasses="sprk-b-ErrorIcon"></sprk-icon>
                  <div class="sprk-b-ErrorText">The postal code max length is 25 characters.</div>
                </span>
              </ng-container>
            </sprk-input-container>
          </div>

          <!-- disabled="!formIsValid$ | async" -->
          <div class="qc-new-contact--default-item">
            <button type="submit" idString="button-primary" sprkButton>
              Add contact
            </button>
          </div>
        </form>
      </ng-template>

      <sprk-divider idString="divider-1"></sprk-divider>
    </div>
  </section>
</div>
